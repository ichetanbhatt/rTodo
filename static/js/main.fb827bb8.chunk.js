(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,o){},126:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),s=o(9),i=o.n(s),r=(o(53),o(6)),d=o(7),c=o(8),l=o(11),p=o(10),u=o(12),g=o(4),h=o.n(g),m=o(22),T=o.n(m),f=o(18),y=o(42),b=o.n(y),v=o(3),E=function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(o=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).state={title:""},o.onChange=function(e){return o.setState({title:e.target.value})},o.onSubmit=function(e){e.preventDefault(),o.state.title.trim().length&&(o.props.addTodo(o.state.title),o.setState({title:""}))},o}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("form",{onSubmit:this.onSubmit,autoComplete:"off"},a.a.createElement("input",{className:"form-control form-control-md my-2",type:"text",name:"title",placeholder:"Get things done!","aria-label":"addTodo",value:this.state.title,onChange:this.onChange,style:{borderRadius:"5px"}}))}}]),t}(n.Component),S=(o(122),o(47)),x=function(e){function t(){var e;return Object(d.a)(this,t),(e=Object(l.a)(this,Object(p.a)(t).call(this))).textStyle=function(){return{textDecoration:e.props.todoItem.completed?"line-through":"none",fontWeight:e.props.todoItem.completed?"200":"500"}},e.checkboxStyle=function(){return{position:"absolute",top:"15px",left:"10px"}},e.todoStyle=function(){return{position:"relative",padding:"12px 34px 12px 30px",fontSize:"15px",color:e.props.todoItem.completed?"#c4c4c4":"#4d4d4d",textDecoration:e.props.todoItem.completed?"line-through":"none",borderLeft:e.props.todoItem.completed?"6px solid #c6cbef":"6px solid #8186d5"}},e.deleteBtnStyle=function(){return{position:"absolute",right:"0",top:"0",padding:"12px 16px 12px 16px",color:"black"}},e.editingDone=function(t){13===t.keyCode?""===e.state.editedTitle?e.props.deleteTodo(e.props.todoItem.id):(e.props.editTodo(e.props.todoItem.id,e.state.editedTitle,e.props.todoItem.completed),e.setState({editMode:!1})):27===t.keyCode&&e.setState({editMode:!1,editedTitle:e.props.todoItem.title})},e.state={editMode:!1,editedTitle:"",searchTags:[]},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({editedTitle:this.props.todoItem.title})}},{key:"enableEditing",value:function(e){this.setState({editMode:!0,editedTitle:this.props.todoItem.title})}},{key:"editingChange",value:function(e){var t=e.target.value;this.setState({editedTitle:t}),console.log(this.state.editedTitle)}},{key:"sendUpdatedTags",value:function(e){console.log(e)}},{key:"render",value:function(){var e=this,t=this.props.todoItem,o=t.id,n=(t.title,t.completed),s={},i={};return this.state.editMode?s.display="none":i.display="none",a.a.createElement("div",{className:"todoItem",key:o},a.a.createElement("div",{style:s,onDoubleClick:this.enableEditing.bind(this)},a.a.createElement("li",{style:this.todoStyle()},a.a.createElement("input",{checked:n,type:"checkbox",onChange:this.props.toggleComplete.bind(this,o,n),style:this.checkboxStyle()}),a.a.createElement("span",{style:{wordBreak:"break-word"}},a.a.createElement(S.a,{style:this.textStyle(),renderHashtag:function(t){return a.a.createElement("a",{style:{color:"#8186d5"},value:t,onClick:e.props.updateTags.bind(e,1,t),key:T()()},t)}},this.state.editedTitle)),a.a.createElement("span",{style:this.deleteBtnStyle(),onClick:this.props.deleteTodo.bind(this,o,n)},a.a.createElement(v.e,{far:!0,icon:"trash-alt"})))),a.a.createElement("div",{style:i},a.a.createElement("li",{style:{position:"relative",padding:"12px 34px 12px 30px",fontSize:"15px",borderLeft:this.props.todoItem.completed?"6px solid #c6cbef":"6px solid #8186d5"}},a.a.createElement("span",null,a.a.createElement(v.f,{outline:!0,type:"textarea",value:this.state.editedTitle,onChange:this.editingChange.bind(this),onKeyDown:this.editingDone.bind(this)})))))}}]),t}(n.Component),j=function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(o=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(s)))).todoItemView=function(){return o.props.todoArray.map(function(e){return a.a.createElement(x,{key:e.id,todoItem:e,searchTodos:o.props.searchTodos,toggleComplete:o.props.toggleComplete,editTodo:o.props.editTodo,deleteTodo:o.props.deleteTodo,updateTags:o.props.updateTags})})},o.ulStyle=function(){return{margin:"0",padding:"0",listStyleType:"none"}},o}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("ul",{style:this.ulStyle()},this.todoItemView()))}}]),t}(n.Component),k=(o(33),function(e){function t(e,o){var n;return Object(d.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e,o))).searchTodos=function(e){console.log(e);var t=function(){function e(){Object(d.a)(this,e)}return Object(c.a)(e,[{key:"tokenize",value:function(e){return e.split(/[\s]+/i).filter(function(e){return e})}}]),e}();if(n.state.searchKeywords+e==="")n.setState({searchKeywords:"",searching:!1});else{var o=new f.Search("id"),a=n.state.searchKeywords;o.tokenizer=new t,o.indexStrategy=new f.PrefixIndexStrategy,o.addIndex("title"),o.addDocuments(n.state.todoArray);var s=o.search(a);n.setState({searchKeywords:a,searching:!0,searchArray:s})}},n.searchHashtags=function(){var e=n.state.searchTags.join(" ");if(""===e)n.setState({searching:!1});else{console.log(e);var t=function(){function e(){Object(d.a)(this,e)}return Object(c.a)(e,[{key:"tokenize",value:function(e){return e.split(/[\s]+/i).filter(function(e){return e})}}]),e}(),o=new f.Search("id");o.tokenizer=new t,o.indexStrategy=new f.ExactWordIndexStrategy,o.addIndex("title"),o.addDocuments(n.state.todoArray);var a=o.search(e);n.setState({searching:!0,searchArray:a})}},n.addTodo=function(e){var t={id:T()(),title:e,completed:!1,createdAt:new Date,completedAt:null};n.setState({ongoingTodos:[t].concat(Object(r.a)(n.state.ongoingTodos))},function(){h.a.set("ongoingTodos",n.state.ongoingTodos),n.updateView()})},n.editTodo=function(e,t,o){(console.log(e,t,o),o)?(n.state.completedTodos[n.state.completedTodos.findIndex(function(t){return t.id===e})].title=t,h.a.set("completedTodos",n.state.completedTodos),n.updateView()):(n.state.ongoingTodos[n.state.ongoingTodos.findIndex(function(t){return t.id===e})].title=t,h.a.set("ongoingTodos",n.state.ongoingTodos),n.updateView())},n.toggleComplete=function(e,t){if(t){var o=n.state.completedTodos.findIndex(function(t){return t.id===e}),a=n.state.completedTodos[o];a.completed=!1,n.setState({ongoingTodos:[a].concat(Object(r.a)(n.state.ongoingTodos)),completedTodos:Object(r.a)(n.state.completedTodos.filter(function(e){return e.id!==a.id}))},function(){h.a.set("ongoingTodos",n.state.ongoingTodos),h.a.set("completedTodos",n.state.completedTodos),n.updateView()})}else{var s=n.state.ongoingTodos.findIndex(function(t){return t.id===e}),i=n.state.ongoingTodos[s];console.log(i),i.completed=!0,n.setState({ongoingTodos:Object(r.a)(n.state.ongoingTodos.filter(function(e){return e.id!==i.id})),completedTodos:[i].concat(Object(r.a)(n.state.completedTodos))},function(){h.a.set("ongoingTodos",n.state.ongoingTodos),h.a.set("completedTodos",n.state.completedTodos),n.updateView()})}},n.deleteTodo=function(e,t){console.log(e),t?n.setState({completedTodos:Object(r.a)(n.state.completedTodos.filter(function(t){return t.id!==e}))},function(){h.a.set("completedTodos",n.state.completedTodos),n.updateView()}):n.setState({ongoingTodos:Object(r.a)(n.state.ongoingTodos.filter(function(t){return t.id!==e}))},function(){h.a.set("ongoingTodos",n.state.ongoingTodos),n.updateView()})},n.resetTodos=function(){n.setState({todoArray:[],ongoingTodos:[],completedTodos:[],searchArray:[],searchTags:[],searchKeywords:"",searching:!1},function(){h.a.clear()})},n.onChange=function(e){n.setState({searchKeywords:e.target.value},function(){n.searchTodos(n.state.searchKeywords,1)})},n.handleTagsChange=function(e,t){if(console.log("incoming tags",t),e){var o=[].concat(Object(r.a)(n.state.searchTags),[t]);n.setState({searchTags:o},function(){console.log("state",n.state.searchTags),n.searchHashtags()})}else n.setState({searchTags:t},function(){console.log("state",n.state.searchTags),n.searchHashtags()})},n.renderNavbar=function(){return a.a.createElement(v.h,{style:{backgroundColor:"#494ca2"},dark:!0},a.a.createElement(v.i,{left:!0},a.a.createElement(v.g,null)),a.a.createElement(v.i,{right:!0},a.a.createElement(v.g,null,a.a.createElement(v.a,{color:"danger",style:{margin:"0",padding:".375rem .75rem"},onClick:n.resetTodos},a.a.createElement("span",null,"Reset ",a.a.createElement(v.e,{icon:"trash"}))))))},n.state={todoArray:h.a.get("todoArray")||[],ongoingTodos:h.a.get("ongoingTodos")||[],completedTodos:h.a.get("completedTodos")||[],searchArray:[],searchTags:[],searching:!1},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"updateView",value:function(){var e=this,t=[].concat(Object(r.a)(this.state.ongoingTodos),Object(r.a)(this.state.completedTodos));this.setState({todoArray:t},function(){h.a.set("todoArray",e.state.todoArray),e.state.searching&&e.searchHashtags()})}},{key:"render",value:function(){var e={},t={};return this.state.searching?e.display="none":t.display="none",a.a.createElement("div",{className:"App"},this.renderNavbar(),a.a.createElement(v.d,null,a.a.createElement(v.j,null,a.a.createElement(v.c,{sm:"1"}),a.a.createElement(v.c,{sm:"10"},a.a.createElement(v.j,{className:"m-2"},a.a.createElement(v.c,null,a.a.createElement("div",{style:e},a.a.createElement(E,{addTodo:this.addTodo})),a.a.createElement("div",{style:t},a.a.createElement(b.a,{value:this.state.searchTags,onChange:this.handleTagsChange.bind(this,0),inputProps:{placeholder:"Search"}})))),a.a.createElement(v.j,{className:"m-2"},a.a.createElement(v.c,null,a.a.createElement(v.b,null,a.a.createElement(j,{todoArray:this.state.searching?this.state.searchArray:this.state.todoArray,updateTags:this.handleTagsChange,editTodo:this.editTodo,toggleComplete:this.toggleComplete,searchTodos:this.searchTodos,deleteTodo:this.deleteTodo}))))))))}}]),t}(n.Component));o(123),o(124),o(125);i.a.render(a.a.createElement(k,null),document.getElementById("root"))},48:function(e,t,o){e.exports=o(126)},53:function(e,t,o){}},[[48,1,2]]]);
//# sourceMappingURL=main.fb827bb8.chunk.js.map